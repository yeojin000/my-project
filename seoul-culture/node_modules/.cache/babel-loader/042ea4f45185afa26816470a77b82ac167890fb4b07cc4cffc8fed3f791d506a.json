{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-project\\\\seoul-culture\\\\src\\\\pages\\\\Map.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Map.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\n\n/* === 필터 옵션 === */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = [\"공연\", \"전시\", \"교육/체험\", \"기타\"];\nconst AREAS = [\"전체\", \"종로구\", \"마포구\", \"서초구\", \"성동구\", \"용산구\"];\nconst DATES = [\"전체\", \"오늘\", \"이번 주\", \"이번 달\"];\n\n/* === 임시 이벤트 데이터 (실제 API 연동 전) === */\nconst SAMPLE_EVENTS = [{\n  id: 1,\n  title: \"서울시립미술관 특별전\",\n  category: \"전시\",\n  place: \"서울시립미술관 서소문본관\",\n  area: \"중구\",\n  lat: 37.5659,\n  lng: 126.9753,\n  dateStart: \"2025-11-05\",\n  dateEnd: \"2025-12-10\"\n}, {\n  id: 2,\n  title: \"종로 낭독 콘서트\",\n  category: \"공연\",\n  place: \"종로구민회관\",\n  area: \"종로구\",\n  lat: 37.572,\n  lng: 126.9813,\n  dateStart: \"2025-11-10\",\n  dateEnd: \"2025-11-10\"\n}, {\n  id: 3,\n  title: \"마포 문화 체험 데이\",\n  category: \"교육/체험\",\n  place: \"마포 문화비축기지\",\n  area: \"마포구\",\n  lat: 37.5693,\n  lng: 126.8947,\n  dateStart: \"2025-11-08\",\n  dateEnd: \"2025-11-30\"\n}, {\n  id: 4,\n  title: \"서초 가을 클래식\",\n  category: \"공연\",\n  place: \"예술의전당\",\n  area: \"서초구\",\n  lat: 37.4799,\n  lng: 127.0146,\n  dateStart: \"2025-11-15\",\n  dateEnd: \"2025-11-15\"\n}, {\n  id: 5,\n  title: \"성수 갤러리 기획전\",\n  category: \"전시\",\n  place: \"성수동 갤러리\",\n  area: \"성동구\",\n  lat: 37.5435,\n  lng: 127.0566,\n  dateStart: \"2025-11-01\",\n  dateEnd: \"2025-11-30\"\n}, {\n  id: 6,\n  title: \"용산 가족 과학 체험\",\n  category: \"교육/체험\",\n  place: \"국립중앙박물관 어린이박물관\",\n  area: \"용산구\",\n  lat: 37.523,\n  lng: 126.98,\n  dateStart: \"2025-11-09\",\n  dateEnd: \"2025-11-20\"\n}, {\n  id: 7,\n  title: \"한강 야시장\",\n  category: \"기타\",\n  place: \"여의도 한강공원\",\n  area: \"영등포구\",\n  lat: 37.5271,\n  lng: 126.9327,\n  dateStart: \"2025-11-01\",\n  dateEnd: \"2025-11-30\"\n}];\n\n/* 날짜 필터 */\nconst inDateFilter = (event, selected) => {\n  if (selected === \"전체\") return true;\n  const today = new Date();\n  const start = new Date(event.dateStart + \"T00:00:00\");\n  const end = new Date(event.dateEnd + \"T23:59:59\");\n  if (selected === \"오늘\") {\n    const y = today.getFullYear();\n    const m = today.getMonth();\n    const d = today.getDate();\n    const todayStart = new Date(y, m, d, 0, 0, 0);\n    const todayEnd = new Date(y, m, d, 23, 59, 59);\n    return end >= todayStart && start <= todayEnd;\n  }\n  if (selected === \"이번 주\") {\n    const day = today.getDay(); // 0:일 ~ 6:토\n    const diffToMonday = day === 0 ? -6 : 1 - day;\n    const monday = new Date(today);\n    monday.setDate(today.getDate() + diffToMonday);\n    monday.setHours(0, 0, 0, 0);\n    const sunday = new Date(monday);\n    sunday.setDate(monday.getDate() + 6);\n    sunday.setHours(23, 59, 59, 999);\n    return end >= monday && start <= sunday;\n  }\n  if (selected === \"이번 달\") {\n    const y = today.getFullYear();\n    const m = today.getMonth();\n    const monthStart = new Date(y, m, 1, 0, 0, 0);\n    const monthEnd = new Date(y, m + 1, 0, 23, 59, 59);\n    return end >= monthStart && start <= monthEnd;\n  }\n  return true;\n};\nexport default function MapPage() {\n  _s();\n  const [category, setCategory] = useState(\"\");\n  const [area, setArea] = useState(\"전체\");\n  const [date, setDate] = useState(\"전체\");\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const mapRef = useRef(null); // 지도 div\n  const kakaoMapRef = useRef(null); // kakao.maps.Map\n  const markersRef = useRef([]); // 마커 목록\n  const infoRef = useRef([]); // 인포윈도우 목록\n\n  /* 필터링된 이벤트 */\n  const filtered = useMemo(() => {\n    return SAMPLE_EVENTS.filter(e => {\n      const byCategory = category ? e.category === category : true;\n      const byArea = area === \"전체\" ? true : e.area === area;\n      const byDate = inDateFilter(e, date);\n      return byCategory && byArea && byDate;\n    });\n  }, [category, area, date]);\n\n  /* Kakao SDK 로더 */\n  const loadKakao = () => new Promise((resolve, reject) => {\n    if (window.kakao && window.kakao.maps) {\n      resolve(window.kakao);\n      return;\n    }\n    const appkey = process.env.REACT_APP_KAKAO_MAP_KEY;\n    if (!appkey) {\n      const err = new Error(\"환경변수 REACT_APP_KAKAO_MAP_KEY 가 설정되어 있지 않습니다.\");\n      console.error(err);\n      alert(err.message);\n      reject(err);\n      return;\n    }\n    const script = document.createElement(\"script\");\n    script.src = `https://dapi.kakao.com/v2/maps/sdk.js?appkey=${appkey}&libraries=services&autoload=false`;\n    script.async = true;\n    script.onload = () => {\n      window.kakao.maps.load(() => resolve(window.kakao));\n    };\n    script.onerror = e => {\n      console.error(\"Kakao Maps SDK 로드 실패:\", e);\n      alert(\"Kakao Maps SDK 로드 실패. 콘솔을 확인하세요.\");\n      reject(e);\n    };\n    document.head.appendChild(script);\n  });\n\n  /* 지도 초기화 (1회) */\n  useEffect(() => {\n    let cancelled = false;\n    const init = async () => {\n      try {\n        const kakao = await loadKakao();\n        if (cancelled) return;\n        const center = new kakao.maps.LatLng(37.5665, 126.978); // 서울시청\n        const options = {\n          center,\n          level: 7\n        };\n        const map = new kakao.maps.Map(mapRef.current, options);\n        kakaoMapRef.current = map;\n        const handleResize = () => {\n          const m = kakaoMapRef.current;\n          if (!m) return;\n          const currentCenter = m.getCenter();\n          setTimeout(() => {\n            kakao.maps.event.trigger(m, \"resize\");\n            m.setCenter(currentCenter);\n          }, 0);\n        };\n        window.addEventListener(\"resize\", handleResize);\n        return () => {\n          window.removeEventListener(\"resize\", handleResize);\n        };\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    const cleanup = init();\n    return () => {\n      cancelled = true;\n      if (typeof cleanup === \"function\") cleanup();\n    };\n  }, []);\n\n  /* 마커/인포윈도우 렌더링 (필터 변경 시 갱신) */\n  useEffect(() => {\n    const kakao = window.kakao;\n    const map = kakaoMapRef.current;\n    if (!kakao || !map) return;\n\n    // 이전 것들 정리\n    markersRef.current.forEach(m => m.setMap(null));\n    infoRef.current.forEach(i => i.close());\n    markersRef.current = [];\n    infoRef.current = [];\n    if (filtered.length === 0) return;\n    const bounds = new kakao.maps.LatLngBounds();\n    filtered.forEach(ev => {\n      const pos = new kakao.maps.LatLng(ev.lat, ev.lng);\n      bounds.extend(pos);\n      const marker = new kakao.maps.Marker({\n        position: pos,\n        map,\n        title: ev.title\n      });\n      const iwContent = `\n        <div style=\"padding:8px 10px; font-size:12px;\">\n          <div style=\"font-weight:600; margin-bottom:4px;\">${ev.title}</div>\n          <div style=\"color:#666;\">${ev.place}</div>\n          <div style=\"color:#888; margin-top:2px;\">${ev.dateStart} ~ ${ev.dateEnd}</div>\n        </div>\n      `;\n      const infowindow = new kakao.maps.InfoWindow({\n        content: iwContent\n      });\n      kakao.maps.event.addListener(marker, \"click\", () => {\n        infoRef.current.forEach(i => i.close());\n        infowindow.open(map, marker);\n        setSelectedEvent({\n          id: ev.id,\n          title: ev.title,\n          place: ev.place,\n          date: `${ev.dateStart} ~ ${ev.dateEnd}`,\n          area: ev.area,\n          category: ev.category\n        });\n      });\n      markersRef.current.push(marker);\n      infoRef.current.push(infowindow);\n    });\n    if (selectedEvent && !filtered.some(e => e.id === selectedEvent.id)) {\n      setSelectedEvent(null);\n    }\n    if (filtered.length === 1) {\n      map.setLevel(5);\n      map.setCenter(new kakao.maps.LatLng(filtered[0].lat, filtered[0].lng));\n    } else {\n      map.setBounds(bounds, 40, 40, 40, 40);\n    }\n  }, [filtered, selectedEvent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white px-6 py-8 max-w-7xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-12 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\uCE74\\uD14C\\uACE0\\uB9AC \\uD544\\uD130\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1 mb-6\",\n          children: [CATEGORIES.map(c => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center gap-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"category\",\n              value: c,\n              checked: category === c,\n              onChange: () => setCategory(c)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this), c]\n          }, c, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCategory(\"\"),\n            className: \"text-xs underline text-gray-600 mt-1 self-start\",\n            children: \"\\uC120\\uD0DD \\uD574\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\uC9C0\\uC5ED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: area,\n          onChange: e => setArea(e.target.value),\n          className: \"border rounded px-2 py-1 w-full mb-6\",\n          children: AREAS.map(a => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: a,\n            children: a\n          }, a, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\uB0A0\\uC9DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: date,\n          onChange: e => setDate(e.target.value),\n          className: \"border rounded px-2 py-1 w-full\",\n          children: DATES.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: d,\n            children: d\n          }, d, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          className: \"border rounded-lg w-full\",\n          style: {\n            height: 600\n          } // 고정 높이 (안 보일 때 확실)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-3 border rounded-lg p-4 bg-gray-50\",\n        children: selectedEvent ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs inline-flex items-center rounded-full bg-gray-200 px-2 py-0.5 mb-2\",\n            children: [selectedEvent.category, \" \\xB7 \", selectedEvent.area]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold text-lg mb-1\",\n            children: selectedEvent.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mb-2\",\n            children: selectedEvent.place\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: selectedEvent.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mt-4 text-sm underline text-blue-600\",\n            onClick: () => setSelectedEvent(null),\n            children: \"\\uC120\\uD0DD \\uD574\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500 text-sm text-center mt-20\",\n          children: \"\\uC9C0\\uB3C4\\uC758 \\uD45C\\uC2DC\\uB41C \\uD589\\uC0AC \\uC911 \\uD558\\uB098\\uB97C \\uD074\\uB9AD\\uD558\\uBA74 \\uC0C1\\uC138\\uC815\\uBCF4\\uAC00 \\uC5EC\\uAE30\\uC5D0 \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 5\n  }, this);\n}\n_s(MapPage, \"FCkUEJaiRb8CNENWTTeBiYGwZL0=\");\n_c = MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","CATEGORIES","AREAS","DATES","SAMPLE_EVENTS","id","title","category","place","area","lat","lng","dateStart","dateEnd","inDateFilter","event","selected","today","Date","start","end","y","getFullYear","m","getMonth","d","getDate","todayStart","todayEnd","day","getDay","diffToMonday","monday","setDate","setHours","sunday","monthStart","monthEnd","MapPage","_s","setCategory","setArea","date","selectedEvent","setSelectedEvent","mapRef","kakaoMapRef","markersRef","infoRef","filtered","filter","e","byCategory","byArea","byDate","loadKakao","Promise","resolve","reject","window","kakao","maps","appkey","process","env","REACT_APP_KAKAO_MAP_KEY","err","Error","console","error","alert","message","script","document","createElement","src","async","onload","load","onerror","head","appendChild","cancelled","init","center","LatLng","options","level","map","Map","current","handleResize","currentCenter","getCenter","setTimeout","trigger","setCenter","addEventListener","removeEventListener","cleanup","forEach","setMap","i","close","length","bounds","LatLngBounds","ev","pos","extend","marker","Marker","position","iwContent","infowindow","InfoWindow","content","addListener","open","push","some","setLevel","setBounds","className","children","fileName","_jsxFileName","lineNumber","columnNumber","c","type","name","value","checked","onChange","onClick","target","a","ref","style","height","_c","$RefreshReg$"],"sources":["C:/my-project/seoul-culture/src/pages/Map.jsx"],"sourcesContent":["// src/pages/Map.jsx\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\n/* === 필터 옵션 === */\r\nconst CATEGORIES = [\"공연\", \"전시\", \"교육/체험\", \"기타\"];\r\nconst AREAS = [\"전체\", \"종로구\", \"마포구\", \"서초구\", \"성동구\", \"용산구\"];\r\nconst DATES = [\"전체\", \"오늘\", \"이번 주\", \"이번 달\"];\r\n\r\n/* === 임시 이벤트 데이터 (실제 API 연동 전) === */\r\nconst SAMPLE_EVENTS = [\r\n  {\r\n    id: 1,\r\n    title: \"서울시립미술관 특별전\",\r\n    category: \"전시\",\r\n    place: \"서울시립미술관 서소문본관\",\r\n    area: \"중구\",\r\n    lat: 37.5659,\r\n    lng: 126.9753,\r\n    dateStart: \"2025-11-05\",\r\n    dateEnd: \"2025-12-10\",\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"종로 낭독 콘서트\",\r\n    category: \"공연\",\r\n    place: \"종로구민회관\",\r\n    area: \"종로구\",\r\n    lat: 37.572,\r\n    lng: 126.9813,\r\n    dateStart: \"2025-11-10\",\r\n    dateEnd: \"2025-11-10\",\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"마포 문화 체험 데이\",\r\n    category: \"교육/체험\",\r\n    place: \"마포 문화비축기지\",\r\n    area: \"마포구\",\r\n    lat: 37.5693,\r\n    lng: 126.8947,\r\n    dateStart: \"2025-11-08\",\r\n    dateEnd: \"2025-11-30\",\r\n  },\r\n  {\r\n    id: 4,\r\n    title: \"서초 가을 클래식\",\r\n    category: \"공연\",\r\n    place: \"예술의전당\",\r\n    area: \"서초구\",\r\n    lat: 37.4799,\r\n    lng: 127.0146,\r\n    dateStart: \"2025-11-15\",\r\n    dateEnd: \"2025-11-15\",\r\n  },\r\n  {\r\n    id: 5,\r\n    title: \"성수 갤러리 기획전\",\r\n    category: \"전시\",\r\n    place: \"성수동 갤러리\",\r\n    area: \"성동구\",\r\n    lat: 37.5435,\r\n    lng: 127.0566,\r\n    dateStart: \"2025-11-01\",\r\n    dateEnd: \"2025-11-30\",\r\n  },\r\n  {\r\n    id: 6,\r\n    title: \"용산 가족 과학 체험\",\r\n    category: \"교육/체험\",\r\n    place: \"국립중앙박물관 어린이박물관\",\r\n    area: \"용산구\",\r\n    lat: 37.523,\r\n    lng: 126.98,\r\n    dateStart: \"2025-11-09\",\r\n    dateEnd: \"2025-11-20\",\r\n  },\r\n  {\r\n    id: 7,\r\n    title: \"한강 야시장\",\r\n    category: \"기타\",\r\n    place: \"여의도 한강공원\",\r\n    area: \"영등포구\",\r\n    lat: 37.5271,\r\n    lng: 126.9327,\r\n    dateStart: \"2025-11-01\",\r\n    dateEnd: \"2025-11-30\",\r\n  },\r\n];\r\n\r\n/* 날짜 필터 */\r\nconst inDateFilter = (event, selected) => {\r\n  if (selected === \"전체\") return true;\r\n  const today = new Date();\r\n  const start = new Date(event.dateStart + \"T00:00:00\");\r\n  const end = new Date(event.dateEnd + \"T23:59:59\");\r\n\r\n  if (selected === \"오늘\") {\r\n    const y = today.getFullYear();\r\n    const m = today.getMonth();\r\n    const d = today.getDate();\r\n    const todayStart = new Date(y, m, d, 0, 0, 0);\r\n    const todayEnd = new Date(y, m, d, 23, 59, 59);\r\n    return end >= todayStart && start <= todayEnd;\r\n  }\r\n\r\n  if (selected === \"이번 주\") {\r\n    const day = today.getDay(); // 0:일 ~ 6:토\r\n    const diffToMonday = day === 0 ? -6 : 1 - day;\r\n    const monday = new Date(today);\r\n    monday.setDate(today.getDate() + diffToMonday);\r\n    monday.setHours(0, 0, 0, 0);\r\n    const sunday = new Date(monday);\r\n    sunday.setDate(monday.getDate() + 6);\r\n    sunday.setHours(23, 59, 59, 999);\r\n    return end >= monday && start <= sunday;\r\n  }\r\n\r\n  if (selected === \"이번 달\") {\r\n    const y = today.getFullYear();\r\n    const m = today.getMonth();\r\n    const monthStart = new Date(y, m, 1, 0, 0, 0);\r\n    const monthEnd = new Date(y, m + 1, 0, 23, 59, 59);\r\n    return end >= monthStart && start <= monthEnd;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default function MapPage() {\r\n  const [category, setCategory] = useState(\"\");\r\n  const [area, setArea] = useState(\"전체\");\r\n  const [date, setDate] = useState(\"전체\");\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  const mapRef = useRef(null); // 지도 div\r\n  const kakaoMapRef = useRef(null); // kakao.maps.Map\r\n  const markersRef = useRef([]); // 마커 목록\r\n  const infoRef = useRef([]); // 인포윈도우 목록\r\n\r\n  /* 필터링된 이벤트 */\r\n  const filtered = useMemo(() => {\r\n    return SAMPLE_EVENTS.filter((e) => {\r\n      const byCategory = category ? e.category === category : true;\r\n      const byArea = area === \"전체\" ? true : e.area === area;\r\n      const byDate = inDateFilter(e, date);\r\n      return byCategory && byArea && byDate;\r\n    });\r\n  }, [category, area, date]);\r\n\r\n  /* Kakao SDK 로더 */\r\n  const loadKakao = () =>\r\n    new Promise((resolve, reject) => {\r\n      if (window.kakao && window.kakao.maps) {\r\n        resolve(window.kakao);\r\n        return;\r\n      }\r\n      const appkey = process.env.REACT_APP_KAKAO_MAP_KEY;\r\n      if (!appkey) {\r\n        const err = new Error(\r\n          \"환경변수 REACT_APP_KAKAO_MAP_KEY 가 설정되어 있지 않습니다.\"\r\n        );\r\n        console.error(err);\r\n        alert(err.message);\r\n        reject(err);\r\n        return;\r\n      }\r\n      const script = document.createElement(\"script\");\r\n      script.src = `https://dapi.kakao.com/v2/maps/sdk.js?appkey=${appkey}&libraries=services&autoload=false`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        window.kakao.maps.load(() => resolve(window.kakao));\r\n      };\r\n      script.onerror = (e) => {\r\n        console.error(\"Kakao Maps SDK 로드 실패:\", e);\r\n        alert(\"Kakao Maps SDK 로드 실패. 콘솔을 확인하세요.\");\r\n        reject(e);\r\n      };\r\n      document.head.appendChild(script);\r\n    });\r\n\r\n  /* 지도 초기화 (1회) */\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const init = async () => {\r\n      try {\r\n        const kakao = await loadKakao();\r\n        if (cancelled) return;\r\n\r\n        const center = new kakao.maps.LatLng(37.5665, 126.978); // 서울시청\r\n        const options = { center, level: 7 };\r\n        const map = new kakao.maps.Map(mapRef.current, options);\r\n        kakaoMapRef.current = map;\r\n\r\n        const handleResize = () => {\r\n          const m = kakaoMapRef.current;\r\n          if (!m) return;\r\n          const currentCenter = m.getCenter();\r\n          setTimeout(() => {\r\n            kakao.maps.event.trigger(m, \"resize\");\r\n            m.setCenter(currentCenter);\r\n          }, 0);\r\n        };\r\n        window.addEventListener(\"resize\", handleResize);\r\n\r\n        return () => {\r\n          window.removeEventListener(\"resize\", handleResize);\r\n        };\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    };\r\n\r\n    const cleanup = init();\r\n    return () => {\r\n      cancelled = true;\r\n      if (typeof cleanup === \"function\") cleanup();\r\n    };\r\n  }, []);\r\n\r\n  /* 마커/인포윈도우 렌더링 (필터 변경 시 갱신) */\r\n  useEffect(() => {\r\n    const kakao = window.kakao;\r\n    const map = kakaoMapRef.current;\r\n    if (!kakao || !map) return;\r\n\r\n    // 이전 것들 정리\r\n    markersRef.current.forEach((m) => m.setMap(null));\r\n    infoRef.current.forEach((i) => i.close());\r\n    markersRef.current = [];\r\n    infoRef.current = [];\r\n\r\n    if (filtered.length === 0) return;\r\n\r\n    const bounds = new kakao.maps.LatLngBounds();\r\n\r\n    filtered.forEach((ev) => {\r\n      const pos = new kakao.maps.LatLng(ev.lat, ev.lng);\r\n      bounds.extend(pos);\r\n\r\n      const marker = new kakao.maps.Marker({\r\n        position: pos,\r\n        map,\r\n        title: ev.title,\r\n      });\r\n\r\n      const iwContent = `\r\n        <div style=\"padding:8px 10px; font-size:12px;\">\r\n          <div style=\"font-weight:600; margin-bottom:4px;\">${ev.title}</div>\r\n          <div style=\"color:#666;\">${ev.place}</div>\r\n          <div style=\"color:#888; margin-top:2px;\">${ev.dateStart} ~ ${ev.dateEnd}</div>\r\n        </div>\r\n      `;\r\n      const infowindow = new kakao.maps.InfoWindow({ content: iwContent });\r\n\r\n      kakao.maps.event.addListener(marker, \"click\", () => {\r\n        infoRef.current.forEach((i) => i.close());\r\n        infowindow.open(map, marker);\r\n        setSelectedEvent({\r\n          id: ev.id,\r\n          title: ev.title,\r\n          place: ev.place,\r\n          date: `${ev.dateStart} ~ ${ev.dateEnd}`,\r\n          area: ev.area,\r\n          category: ev.category,\r\n        });\r\n      });\r\n\r\n      markersRef.current.push(marker);\r\n      infoRef.current.push(infowindow);\r\n    });\r\n\r\n    if (selectedEvent && !filtered.some((e) => e.id === selectedEvent.id)) {\r\n      setSelectedEvent(null);\r\n    }\r\n\r\n    if (filtered.length === 1) {\r\n      map.setLevel(5);\r\n      map.setCenter(new kakao.maps.LatLng(filtered[0].lat, filtered[0].lng));\r\n    } else {\r\n      map.setBounds(bounds, 40, 40, 40, 40);\r\n    }\r\n  }, [filtered, selectedEvent]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white px-6 py-8 max-w-7xl mx-auto\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\r\n        {/* 왼쪽 필터 */}\r\n        <div className=\"lg:col-span-3\">\r\n          <h2 className=\"font-semibold mb-2\">카테고리 필터</h2>\r\n          <div className=\"flex flex-col gap-1 mb-6\">\r\n            {CATEGORIES.map((c) => (\r\n              <label key={c} className=\"flex items-center gap-2 text-sm\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"category\"\r\n                  value={c}\r\n                  checked={category === c}\r\n                  onChange={() => setCategory(c)}\r\n                />\r\n                {c}\r\n              </label>\r\n            ))}\r\n            <button\r\n              onClick={() => setCategory(\"\")}\r\n              className=\"text-xs underline text-gray-600 mt-1 self-start\"\r\n            >\r\n              선택 해제\r\n            </button>\r\n          </div>\r\n\r\n          <h2 className=\"font-semibold mb-2\">지역</h2>\r\n          <select\r\n            value={area}\r\n            onChange={(e) => setArea(e.target.value)}\r\n            className=\"border rounded px-2 py-1 w-full mb-6\"\r\n          >\r\n            {AREAS.map((a) => (\r\n              <option key={a} value={a}>\r\n                {a}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <h2 className=\"font-semibold mb-2\">날짜</h2>\r\n          <select\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n            className=\"border rounded px-2 py-1 w-full\"\r\n          >\r\n            {DATES.map((d) => (\r\n              <option key={d} value={d}>\r\n                {d}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* 지도 영역 */}\r\n        <div className=\"lg:col-span-6\">\r\n          <div\r\n            ref={mapRef}\r\n            className=\"border rounded-lg w-full\"\r\n            style={{ height: 600 }} // 고정 높이 (안 보일 때 확실)\r\n          />\r\n        </div>\r\n\r\n        {/* 상세 정보 */}\r\n        <div className=\"lg:col-span-3 border rounded-lg p-4 bg-gray-50\">\r\n          {selectedEvent ? (\r\n            <div>\r\n              <div className=\"text-xs inline-flex items-center rounded-full bg-gray-200 px-2 py-0.5 mb-2\">\r\n                {selectedEvent.category} · {selectedEvent.area}\r\n              </div>\r\n              <h3 className=\"font-bold text-lg mb-1\">{selectedEvent.title}</h3>\r\n              <p className=\"text-sm text-gray-600 mb-2\">{selectedEvent.place}</p>\r\n              <p className=\"text-sm text-gray-600\">{selectedEvent.date}</p>\r\n              <button\r\n                className=\"mt-4 text-sm underline text-blue-600\"\r\n                onClick={() => setSelectedEvent(null)}\r\n              >\r\n                선택 해제\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-gray-500 text-sm text-center mt-20\">\r\n              지도의 표시된 행사 중 하나를 클릭하면 상세정보가 여기에 표시됩니다.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}