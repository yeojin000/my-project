{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-project\\\\seoul-culture\\\\src\\\\pages\\\\Calendar.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/pages/Calendar.jsx\n// - HOMEÏùò Ï∫òÎ¶∞ÎçîÏôÄ ÎèôÏùºÌïú Î∞©ÏãùÏúºÎ°ú ÏÑúÏö∏Ïãú APIÎ•º ÏÇ¨Ïö©\n//   ‚ë† ÌòÑÏû¨ Îã¨Î†•Ïóê Î≥¥Ïù¥Îäî ÎÇ†Ïßú(ÏµúÎåÄ 42Ïùº)Ïóê ÎåÄÌï¥ÏÑúÎßå, ÎÇ†ÏßúÎ≥ÑÎ°ú API Ìò∏Ï∂ú(fetchSeoulDailyEvents)\n//      Í∞Å ÎÇ†ÏßúÎäî START_INDEX=0, END_INDEX=4 Î°ú ÏùºÎ∂ÄÎßå Í∞ÄÏ†∏Ïò§Í≥† list_total_count Î°ú Ï†ÑÏ≤¥ Í∞úÏàò ÌôïÏù∏\n//   ‚ë° ÏÉÅÏÑ∏ ÌñâÏÇ¨ Î™©Î°ùÏùÄ ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏóê ÎåÄÌï¥ ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Ï†ÅÏö©\n//      Í∞Å ÌéòÏù¥ÏßÄÎßàÎã§ START_INDEX / END_INDEX Î•º Í≥ÑÏÇ∞Ìï¥ÏÑú Í∑∏ ÌéòÏù¥ÏßÄÎßå Ï°∞Ìöå\n\nimport React, { useEffect, useMemo, useRef, useState, useDeferredValue } from \"react\";\nimport { fetchSeoulDailyEvents } from \"../lib/seoulApi.js\";\n\n/* === ÌôòÍ≤ΩÎ≥ÄÏàò === */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SEOUL_KEY = (process.env.NEXT_PUBLIC_SEOUL_KEY || \"\").trim();\n\n/* === Ïπ¥ÌÖåÍ≥†Î¶¨(Î∏åÎùºÏö∞Ï¶àÏôÄ ÎèôÏùº ÎùºÎ≤®) === */\nconst CATEGORIES = [\"Ï†ÑÏ≤¥\", \"Í≥µÏó∞\", \"Ï†ÑÏãú\", \"ÍµêÏú°/Ï≤¥Ìóò\", \"Í∏∞ÌÉÄ\"];\n\n/* === Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉâ(Ï†ê ÌëúÏãúÏö©) === */\nconst CAT_COLOR = {\n  Í≥µÏó∞: \"bg-indigo-500\",\n  Ï†ÑÏãú: \"bg-emerald-500\",\n  \"ÍµêÏú°/Ï≤¥Ìóò\": \"bg-amber-500\",\n  Í∏∞ÌÉÄ: \"bg-rose-500\"\n};\n\n/* === Ï¶êÍ≤®Ï∞æÍ∏∞ Î°úÏª¨Ïä§ÌÜ†Î¶¨ÏßÄ (Browse/MyPageÏôÄ ÎèôÏùº ÌÇ§) === */\nconst LS_KEY_FAV = \"sn_favorites\";\nfunction loadFavs() {\n  try {\n    const raw = localStorage.getItem(LS_KEY_FAV);\n    return raw ? JSON.parse(raw) : [];\n  } catch {\n    return [];\n  }\n}\nfunction saveFavs(list) {\n  localStorage.setItem(LS_KEY_FAV, JSON.stringify(list));\n}\n\n/* === ÏÉÅÏúÑ Ïπ¥ÌÖåÍ≥†Î¶¨ Îß§Ìïë (App/Browse ÏôÄ ÎèôÏùº Í∑úÏπô) === */\nfunction toHighLevelCategory(codename = \"\", themecode = \"\") {\n  const c = String(codename || \"\");\n  const t = String(themecode || \"\");\n  if ([\"Í≥µÏó∞\", \"ÏΩòÏÑúÌä∏\", \"ÌÅ¥ÎûòÏãù\", \"Íµ≠ÏïÖ\", \"Î¨¥Ïö©\", \"Ïó∞Í∑π\", \"ÎÆ§ÏßÄÏª¨\", \"Ïò§ÌéòÎùº\", \"ÏùåÏïÖÌöå\", \"ÌéòÏä§Ìã∞Î≤å\", \"Ï∂ïÏ†ú\"].some(k => c.includes(k))) {\n    return \"Í≥µÏó∞\";\n  }\n  if ([\"Ï†ÑÏãú\", \"ÎØ∏Ïà†\", \"Í∞§Îü¨Î¶¨\", \"ÏïÑÌä∏\", \"ÏÇ¨ÏßÑÏ†Ñ\"].some(k => c.includes(k))) {\n    return \"Ï†ÑÏãú\";\n  }\n  if ([\"ÍµêÏú°\", \"Ï≤¥Ìóò\", \"ÏõåÌÅ¨Ïàç\", \"ÏõåÌÅ¨ÏÉµ\", \"Í∞ïÏ¢å\", \"Í∞ïÏùò\", \"ÏÑ∏ÎØ∏ÎÇò\", \"Í∞ïÏó∞\"].some(k => c.includes(k)) || t.includes(\"ÍµêÏú°\")) {\n    return \"ÍµêÏú°/Ï≤¥Ìóò\";\n  }\n  return \"Í∏∞ÌÉÄ\";\n}\n\n/* === ÎÇ†Ïßú Ïú†Ìã∏ === */\nfunction ymd(date) {\n  const y = date.getFullYear();\n  const m = String(date.getMonth() + 1).padStart(2, \"0\");\n  const d = String(date.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${d}`;\n}\nfunction normalizeRangeLabel(startStr = \"\", endStr = \"\") {\n  const s = (startStr || \"\").replaceAll(\".\", \"-\");\n  const e = (endStr || \"\").replaceAll(\".\", \"-\");\n  if (!s && !e) return \"ÏùºÏ†ï ÎØ∏Ï†ï\";\n  if (s && e) return `${s} ~ ${e}`;\n  return s || e;\n}\nfunction monthMatrix(year, monthIdx, weekStartsOn = 0) {\n  // weekStartsOn: 0=Sun, 1=Mon\n  const first = new Date(year, monthIdx, 1);\n  const last = new Date(year, monthIdx + 1, 0);\n  const days = last.getDate();\n  const firstDay = (first.getDay() - weekStartsOn + 7) % 7;\n  const total = Math.ceil((firstDay + days) / 7) * 7;\n  const cells = [];\n  for (let i = 0; i < total; i++) {\n    const dayOffset = i - firstDay + 1;\n    const d = new Date(year, monthIdx, dayOffset);\n    const inMonth = dayOffset >= 1 && dayOffset <= days;\n    cells.push({\n      date: d,\n      inMonth\n    });\n  }\n  return cells;\n}\n\n/* === API row -> Ï∫òÎ¶∞ÎçîÏö© Ïù¥Î≤§Ìä∏ Ï†ïÍ∑úÌôî === */\nfunction mapRowToEvent(r, idx = 0) {\n  const startStr = r.STRTDATE || r.DATE;\n  const endStr = r.END_DATE || r.ENDDATE || r.END;\n  const category = toHighLevelCategory(r.CODENAME, r.THEMECODE);\n  return {\n    id: r.SVCID || `evt_${idx}`,\n    title: r.TITLE || r.SVCNM || \"Î¨¥Ï†ú\",\n    category,\n    place: r.PLACE || r.GUNAME || \"Ïû•ÏÜå ÎØ∏Ï†ï\",\n    dateLabel: normalizeRangeLabel(startStr, endStr),\n    homepage: r.ORG_LINK || r.HMPG_ADDR,\n    fee: r.USE_FEE,\n    gu: r.GUNAME,\n    thumb: r.MAIN_IMG || \"/images/sample-event.jpg\",\n    lat: r.LAT || null,\n    lng: r.LNG || null\n  };\n}\n\n/* === 1) Ïõî Ï†ÑÏ≤¥Ïóê ÎåÄÌïú \"ÏùºÎ≥Ñ ÏöîÏïΩ\" Ï°∞Ìöå (HOME Í≥º ÎèôÏùº Íµ¨Ï°∞) === */\n/**\r\n * dataByDay[dateKey] = {\r\n *   events: Event[],      // Í∑∏ ÎÇ†Ïßú ÏÉÅÏúÑ NÍ∞ú (N = perDayLimit)\r\n *   totalCount: number,   // list_total_count\r\n * }\r\n */\nfunction useCalendarMonthDots(year, month, weekStartsOn = 0, perDayLimit = 4) {\n  _s();\n  const [dataByDay, setDataByDay] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(null);\n  useEffect(() => {\n    const ctrl = new AbortController();\n    let cancelled = false;\n    (async () => {\n      try {\n        if (!SEOUL_KEY) {\n          throw new Error(\"REACT_APP_SEOUL_KEYÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§ (.env ÌôïÏù∏).\");\n        }\n        setLoading(true);\n        setErr(null);\n        setDataByDay({});\n        const matrix = monthMatrix(year, month, weekStartsOn);\n        const dates = matrix.map(cell => ymd(cell.date)); // ÌòÑÏû¨ Îã¨Î†•Ïóê Î≥¥Ïù¥Îäî ÎÇ†ÏßúÎì§(ÏµúÎåÄ 42Ïùº)\n\n        const results = await Promise.all(dates.map(async dateKey => {\n          try {\n            var _info$list_total_coun;\n            const json = await fetchSeoulDailyEvents({\n              seoulKey: SEOUL_KEY,\n              date: dateKey,\n              startIndex: 0,\n              endIndex: perDayLimit,\n              signal: ctrl.signal\n            });\n            const info = json === null || json === void 0 ? void 0 : json.culturalEventInfo;\n            const rows = (info === null || info === void 0 ? void 0 : info.row) || [];\n            const totalCount = (_info$list_total_coun = info === null || info === void 0 ? void 0 : info.list_total_count) !== null && _info$list_total_coun !== void 0 ? _info$list_total_coun : rows.length;\n            const events = rows.map((r, idx) => mapRowToEvent(r, idx));\n            return {\n              dateKey,\n              events,\n              totalCount\n            };\n          } catch (e) {\n            console.error(\"Calendar month daily fetch error:\", dateKey, e);\n            return {\n              dateKey,\n              events: [],\n              totalCount: 0\n            };\n          }\n        }));\n        if (cancelled) return;\n        const map = {};\n        results.forEach(({\n          dateKey,\n          events,\n          totalCount\n        }) => {\n          map[dateKey] = {\n            events,\n            totalCount\n          };\n        });\n        setDataByDay(map);\n      } catch (e) {\n        if (!cancelled) setErr(e);\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    })();\n    return () => {\n      cancelled = true;\n      ctrl.abort();\n    };\n  }, [year, month, weekStartsOn, perDayLimit]);\n  return {\n    dataByDay,\n    loading,\n    error: err\n  };\n}\n\n/* === 2) ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏóê ÎåÄÌïú ÌéòÏù¥ÏßÄ Îã®ÏúÑ ÏÉÅÏÑ∏ Ï°∞Ìöå === */\n/**\r\n * - dateKey: 'YYYY-MM-DD'\r\n * - page: 1-based\r\n * - pageSize: ÏÉÅÏÑ∏ Î¶¨Ïä§Ìä∏ Ìïú ÌéòÏù¥ÏßÄÎãπ Í∞úÏàò\r\n * - Í∞Å page ÎßàÎã§ START_INDEX / END_INDEX Î•º Í≥ÑÏÇ∞Ìï¥ÏÑú Í∑∏ Î≤îÏúÑÎßå Ï°∞Ìöå\r\n */\n_s(useCalendarMonthDots, \"uUHAKetIX3B0RrByVUGfjHAKid8=\");\nconst DETAIL_PAGE_SIZE = 20;\nfunction useDailyPagedEvents(dateKey, page, pageSize = DETAIL_PAGE_SIZE) {\n  _s2();\n  const [events, setEvents] = useState([]);\n  const [totalCount, setTotalCount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(null);\n  useEffect(() => {\n    const ctrl = new AbortController();\n    let cancelled = false;\n    (async () => {\n      if (!dateKey) {\n        setEvents([]);\n        setTotalCount(0);\n        setErr(null);\n        setLoading(false);\n        return;\n      }\n      try {\n        var _info$list_total_coun2;\n        if (!SEOUL_KEY) {\n          throw new Error(\"REACT_APP_SEOUL_KEYÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§ (.env ÌôïÏù∏).\");\n        }\n        setLoading(true);\n        setErr(null);\n\n        // page 1 ‚Üí 1~20, page 2 ‚Üí 21~40 ... (Ïò§ÌîàAPIÎäî 1-based)\n        const start1 = (page - 1) * pageSize + 1;\n        const end1 = start1 + pageSize - 1;\n        const json = await fetchSeoulDailyEvents({\n          seoulKey: SEOUL_KEY,\n          date: dateKey,\n          startIndex: start1,\n          endIndex: end1,\n          signal: ctrl.signal\n        });\n        if (cancelled) return;\n        const info = json === null || json === void 0 ? void 0 : json.culturalEventInfo;\n        const rows = (info === null || info === void 0 ? void 0 : info.row) || [];\n        const total = (_info$list_total_coun2 = info === null || info === void 0 ? void 0 : info.list_total_count) !== null && _info$list_total_coun2 !== void 0 ? _info$list_total_coun2 : rows.length;\n        const mapped = rows.map((r, idx) => mapRowToEvent(r, start1 - 1 + idx));\n        setEvents(mapped);\n        setTotalCount(total);\n      } catch (e) {\n        if (!cancelled) setErr(e);\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    })();\n    return () => {\n      cancelled = true;\n      ctrl.abort();\n    };\n  }, [dateKey, page, pageSize]);\n  const totalPages = Math.max(1, Math.ceil((totalCount || events.length || 1) / pageSize));\n  return {\n    events,\n    totalCount,\n    totalPages,\n    loading,\n    error: err\n  };\n}\n\n/* === ÌéòÏù¥ÏßÄ Ïª¥Ìè¨ÎÑåÌä∏ === */\n_s2(useDailyPagedEvents, \"1Ny6y8sAcRgjRSwQ023yzgcY0vs=\");\nexport default function CalendarPage() {\n  _s3();\n  const today = new Date();\n  const todayKey = ymd(today);\n\n  // ‚ë† Í∏∞Î≥∏ÏùÄ ÌòÑÏû¨ ÎÖÑ/Ïõî\n  const [cursor, setCursor] = useState(new Date(today.getFullYear(), today.getMonth(), 1));\n  const [category, setCategory] = useState(\"Ï†ÑÏ≤¥\");\n  const [keywordInput, setKeywordInput] = useState(\"\");\n  const [keyword, setKeyword] = useState(\"\");\n  const [activeDay, setActiveDay] = useState(null); // 'YYYY-MM-DD'\n  const [detailPage, setDetailPage] = useState(1);\n  const deferredKeyword = useDeferredValue(keyword);\n\n  // Ï∫òÎ¶∞Îçî Î∞ïÏä§ ÎÜíÏù¥Î•º ÏÉÅÏÑ∏ Ìå®ÎÑêÏóê Î≥µÏ†ú\n  const calBoxRef = useRef(null);\n  const [panelH, setPanelH] = useState(0);\n  useEffect(() => {\n    if (!calBoxRef.current) return;\n    const ro = new ResizeObserver(entries => {\n      var _entries$;\n      const box = (_entries$ = entries[0]) === null || _entries$ === void 0 ? void 0 : _entries$.contentRect;\n      if (box) setPanelH(Math.round(box.height));\n    });\n    ro.observe(calBoxRef.current);\n    return () => ro.disconnect();\n  }, []);\n  const y = cursor.getFullYear();\n  const m = cursor.getMonth();\n\n  // Ïõî Ï†ÑÏ≤¥ ÏùºÎ≥Ñ ÏöîÏïΩ Î°úÎî©\n  const {\n    dataByDay,\n    loading: loadingMonth,\n    error: errorMonth\n  } = useCalendarMonthDots(y, m, 0, 4);\n\n  // Îã¨Î†• Îß§Ìä∏Î¶≠Ïä§\n  const matrix = useMemo(() => monthMatrix(y, m, 0), [y, m]);\n\n  // ÎÇ†Ïßú/ÌïÑÌÑ∞ Î≥ÄÍ≤Ω Ïãú ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî\n  useEffect(() => {\n    setDetailPage(1);\n  }, [activeDay, category, keyword]);\n\n  // ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏùò ÏÉÅÏÑ∏\n  const {\n    events: dailyEventsRaw,\n    totalCount: dailyTotalCount,\n    totalPages: dailyTotalPages,\n    loading: loadingDaily,\n    error: errorDaily\n  } = useDailyPagedEvents(activeDay, detailPage, DETAIL_PAGE_SIZE);\n\n  // Ïπ¥ÌÖåÍ≥†Î¶¨/Í≤ÄÏÉâ ÌïÑÌÑ∞ ÏÉÅÏÑ∏ Ï†ÅÏö©\n  const filteredDailyEvents = useMemo(() => {\n    let arr = dailyEventsRaw;\n    if (category !== \"Ï†ÑÏ≤¥\") {\n      arr = arr.filter(e => e.category === category);\n    }\n    const q = (deferredKeyword || \"\").trim().toLowerCase();\n    if (!q) return arr;\n    return arr.filter(e => e.title.toLowerCase().includes(q) || (e.place || \"\").toLowerCase().includes(q));\n  }, [dailyEventsRaw, category, deferredKeyword]);\n  const ymLabel = `${y}.${String(m + 1).padStart(2, \"0\")}`;\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    setKeyword(keywordInput);\n  };\n\n  // Ï¶êÍ≤®Ï∞æÍ∏∞ (Calendar Î©îÎâ¥ÏóêÏÑúÎèÑ Ï∂îÍ∞Ä Í∞ÄÎä•)\n  const [favSet, setFavSet] = useState(() => new Set(loadFavs().map(x => x.id)));\n  const handleToggleFavorite = ev => {\n    const list = loadFavs();\n    const exists = list.some(x => x.id === ev.id);\n    let next;\n    if (exists) {\n      next = list.filter(x => x.id !== ev.id);\n    } else {\n      var _ev$lat, _ev$lng;\n      next = [...list, {\n        id: ev.id,\n        title: ev.title,\n        category: ev.category,\n        date: ev.dateLabel,\n        place: ev.place,\n        thumb: ev.thumb || \"/images/sample-event.jpg\",\n        homepage: ev.homepage,\n        gu: ev.gu,\n        lat: (_ev$lat = ev.lat) !== null && _ev$lat !== void 0 ? _ev$lat : null,\n        lng: (_ev$lng = ev.lng) !== null && _ev$lng !== void 0 ? _ev$lng : null\n      }];\n    }\n    saveFavs(next);\n    setFavSet(new Set(next.map(x => x.id)));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white px-6 py-8 max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"\\uCE98\\uB9B0\\uB354\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3 sm:items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-stretch\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-l px-3 py-2 min-w-[110px] grid place-items-center\",\n          children: ymLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"border-y border-r px-3 py-2\",\n          onClick: () => {\n            const d = new Date(y, m - 1, 1);\n            setCursor(d);\n            setActiveDay(null);\n          },\n          \"aria-label\": \"\\uC774\\uC804 \\uB2EC\",\n          title: \"\\uC774\\uC804 \\uB2EC\",\n          children: \"\\u25C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"border rounded-r border-l-0 px-3 py-2\",\n          onClick: () => {\n            const d = new Date(y, m + 1, 1);\n            setCursor(d);\n            setActiveDay(null);\n          },\n          \"aria-label\": \"\\uB2E4\\uC74C \\uB2EC\",\n          title: \"\\uB2E4\\uC74C \\uB2EC\",\n          children: \"\\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: category,\n        onChange: e => {\n          setCategory(e.target.value);\n          // activeDayÎäî Ïú†ÏßÄ (ÏÑ†ÌÉùÌïú ÎÇ†Ïßú ÎÇ¥ÏóêÏÑúÎßå Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞)\n        },\n        className: \"border rounded px-3 py-2 w-40\",\n        children: CATEGORIES.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c,\n          children: c\n        }, c, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearchSubmit,\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: keywordInput,\n            onChange: e => setKeywordInput(e.target.value),\n            placeholder: \"\\uD589\\uC0AC\\uBA85, \\uC7A5\\uC18C\\uB85C \\uAC80\\uC0C9 (\\uC120\\uD0DD\\uD55C \\uB0A0\\uC9DC\\uC758 \\uBAA9\\uB85D \\uB0B4\\uC5D0\\uC11C)\",\n            className: \"w-full border rounded-md pl-3 pr-10 py-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            \"aria-label\": \"\\uAC80\\uC0C9\",\n            className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/search.png\",\n              alt: \"\",\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), loadingMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-sm text-gray-500\",\n      children: \"\\uB2EC\\uB825 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 9\n    }, this), errorMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-sm text-red-600\",\n      children: [\"\\uB2EC\\uB825 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uC9C0 \\uBABB\\uD588\\uC5B4\\uC694.\", \" \", String((errorMonth === null || errorMonth === void 0 ? void 0 : errorMonth.message) || errorMonth)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-12 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: calBoxRef,\n          className: \"border rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 mb-2\",\n            children: new Date(y, m, 1).toLocaleString(\"ko-KR\", {\n              month: \"long\",\n              year: \"numeric\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-7 text-center text-xs text-gray-600 mb-1\",\n            children: [\"Ïùº\", \"Ïõî\", \"Ìôî\", \"Ïàò\", \"Î™©\", \"Í∏à\", \"ÌÜ†\"].map(w => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-1\",\n              children: w\n            }, w, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-7 gap-1\",\n            children: matrix.map(({\n              date,\n              inMonth\n            }, idx) => {\n              const key = ymd(date);\n              const day = date.getDate();\n              const dayData = dataByDay[key] || {\n                events: [],\n                totalCount: 0\n              };\n              const allDayEvents = dayData.events || [];\n              const dayEvents = category === \"Ï†ÑÏ≤¥\" ? allDayEvents : allDayEvents.filter(e => e.category === category);\n              const isToday = key === todayKey;\n              const isOtherMonth = !inMonth; // ‚òÖ Ï†ÑÎã¨/Îã§Ïùå Îã¨Îßå ÏùåÏòÅ Ï≤òÎ¶¨\n\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveDay(key),\n                className: [\"aspect-square rounded-md border p-1 text-left cursor-pointer\", isOtherMonth ? \"bg-gray-50 text-gray-300\" : \"bg-white hover:bg-gray-50\", activeDay === key ? \"ring-2 ring-black\" : \"\"].join(\" \"),\n                title: dayData.totalCount ? `${dayData.totalCount}Í∞ú ÌñâÏÇ¨` : undefined,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: isToday ? \"font-bold underline\" : \"\",\n                    children: day\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex gap-0.5\",\n                    children: [dayEvents.slice(0, 3).map((e, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: [\"inline-block w-1.5 h-1.5 rounded-full\", CAT_COLOR[e.category] || \"bg-gray-400\", isOtherMonth ? \"opacity-50\" : \"\"].join(\" \")\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 27\n                    }, this)), dayData.totalCount > dayEvents.length && dayEvents.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-[9px] text-gray-400 ml-0.5\",\n                      children: [\"+\", dayData.totalCount - dayEvents.length]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 556,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 flex flex-wrap gap-3 text-xs\",\n            children: Object.entries(CAT_COLOR).map(([k, v]) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: `inline-block w-2 h-2 rounded-full ${v}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this), k]\n            }, k, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg bg-gray-50 overflow-auto\",\n          style: {\n            height: panelH ? `${panelH}px` : undefined,\n            minHeight: panelH ? undefined : \"280px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 flex flex-col h-full\",\n            children: !activeDay ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 flex-1 grid place-items-center\",\n              children: \"\\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD558\\uBA74 \\uD574\\uB2F9 \\uB0A0\\uC9DC\\uC758 \\uD589\\uC0AC\\uAC00 \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 17\n            }, this) : loadingDaily ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 flex-1 grid place-items-center\",\n              children: [activeDay, \"\\uC758 \\uD589\\uC0AC\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\u2026\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 17\n            }, this) : errorDaily ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-red-600 flex-1 grid place-items-center\",\n              children: [\"\\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uC9C0 \\uBABB\\uD588\\uC5B4\\uC694.\", \" \", String((errorDaily === null || errorDaily === void 0 ? void 0 : errorDaily.message) || errorDaily)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 17\n            }, this) : filteredDailyEvents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 flex-1 grid place-items-center\",\n              children: [activeDay, \"\\uC5D0 \\uC870\\uAC74\\uC5D0 \\uB9DE\\uB294 \\uD589\\uC0AC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 text-sm text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: activeDay\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 21\n                }, this), \" \", \"\\uAE30\\uC900 \\uD589\\uC0AC \\uBAA9\\uB85D\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-3 flex-1 overflow-auto pr-1\",\n                children: filteredDailyEvents.map(e => {\n                  const isFav = favSet.has(e.id);\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"bg-white border rounded p-3 relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1 pr-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: \"font-semibold\",\n                          children: e.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 623,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mt-1\",\n                          children: [\"\\uD83D\\uDCC5 \", e.dateLabel]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 624,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [\"\\uD83D\\uDCCD \", e.place]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 627,\n                          columnNumber: 31\n                        }, this), e.fee && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500 mt-1\",\n                          children: [\"\\uC694\\uAE08: \", e.fee]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 631,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 622,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-col items-end gap-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs px-2 py-0.5 rounded-full bg-gray-100 whitespace-nowrap\",\n                          children: e.category\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 637,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => handleToggleFavorite(e),\n                          className: \"text-xl leading-none select-none\",\n                          title: isFav ? \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú\" : \"Ï¶êÍ≤®Ï∞æÍ∏∞Ïóê Ï∂îÍ∞Ä\",\n                          \"aria-label\": isFav ? \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú\" : \"Ï¶êÍ≤®Ï∞æÍ∏∞Ïóê Ï∂îÍ∞Ä\",\n                          children: isFav ? \"‚ù§Ô∏è\" : \"ü§ç\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 640,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 636,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 621,\n                      columnNumber: 27\n                    }, this), e.homepage && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 text-right\",\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"text-xs underline underline-offset-4\",\n                        href: e.homepage,\n                        target: \"_blank\",\n                        rel: \"noreferrer\",\n                        children: \"\\uC0C1\\uC138\\uBCF4\\uAE30\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 657,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 29\n                    }, this)]\n                  }, e.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 flex items-center justify-between text-xs text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\uCD1D \", dailyTotalCount, \"\\uAC74 \\xB7 \", detailPage, \"/\", dailyTotalPages, \"\\uD398\\uC774\\uC9C0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setDetailPage(p => Math.max(1, p - 1)),\n                    disabled: detailPage === 1,\n                    className: \"px-3 py-1.5 rounded border bg-white disabled:opacity-40\",\n                    children: \"\\uC774\\uC804\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setDetailPage(p => Math.min(dailyTotalPages, p + 1)),\n                    disabled: detailPage === dailyTotalPages,\n                    className: \"px-3 py-1.5 rounded border bg-white disabled:opacity-40\",\n                    children: \"\\uB2E4\\uC74C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 402,\n    columnNumber: 5\n  }, this);\n}\n_s3(CalendarPage, \"fMiJKFP2yWQrZHZ1wU0rmVgXnpA=\", false, function () {\n  return [useDeferredValue, useCalendarMonthDots, useDailyPagedEvents];\n});\n_c = CalendarPage;\nvar _c;\n$RefreshReg$(_c, \"CalendarPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useDeferredValue","fetchSeoulDailyEvents","jsxDEV","_jsxDEV","Fragment","_Fragment","SEOUL_KEY","process","env","NEXT_PUBLIC_SEOUL_KEY","trim","CATEGORIES","CAT_COLOR","Í≥µÏó∞","Ï†ÑÏãú","Í∏∞ÌÉÄ","LS_KEY_FAV","loadFavs","raw","localStorage","getItem","JSON","parse","saveFavs","list","setItem","stringify","toHighLevelCategory","codename","themecode","c","String","t","some","k","includes","ymd","date","y","getFullYear","m","getMonth","padStart","d","getDate","normalizeRangeLabel","startStr","endStr","s","replaceAll","e","monthMatrix","year","monthIdx","weekStartsOn","first","Date","last","days","firstDay","getDay","total","Math","ceil","cells","i","dayOffset","inMonth","push","mapRowToEvent","r","idx","STRTDATE","DATE","END_DATE","ENDDATE","END","category","CODENAME","THEMECODE","id","SVCID","title","TITLE","SVCNM","place","PLACE","GUNAME","dateLabel","homepage","ORG_LINK","HMPG_ADDR","fee","USE_FEE","gu","thumb","MAIN_IMG","lat","LAT","lng","LNG","useCalendarMonthDots","month","perDayLimit","_s","dataByDay","setDataByDay","loading","setLoading","err","setErr","ctrl","AbortController","cancelled","Error","matrix","dates","map","cell","results","Promise","all","dateKey","_info$list_total_coun","json","seoulKey","startIndex","endIndex","signal","info","culturalEventInfo","rows","row","totalCount","list_total_count","length","events","console","error","forEach","abort","DETAIL_PAGE_SIZE","useDailyPagedEvents","page","pageSize","_s2","setEvents","setTotalCount","_info$list_total_coun2","start1","end1","mapped","totalPages","max","CalendarPage","_s3","today","todayKey","cursor","setCursor","setCategory","keywordInput","setKeywordInput","keyword","setKeyword","activeDay","setActiveDay","detailPage","setDetailPage","deferredKeyword","calBoxRef","panelH","setPanelH","current","ro","ResizeObserver","entries","_entries$","box","contentRect","round","height","observe","disconnect","loadingMonth","errorMonth","dailyEventsRaw","dailyTotalCount","dailyTotalPages","loadingDaily","errorDaily","filteredDailyEvents","arr","filter","q","toLowerCase","ymLabel","handleSearchSubmit","preventDefault","favSet","setFavSet","Set","x","handleToggleFavorite","ev","exists","next","_ev$lat","_ev$lng","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","target","onSubmit","placeholder","type","src","alt","message","ref","toLocaleString","w","key","day","dayData","allDayEvents","dayEvents","isToday","isOtherMonth","join","undefined","slice","Object","v","style","minHeight","isFav","has","href","rel","p","disabled","min","_c","$RefreshReg$"],"sources":["C:/my-project/seoul-culture/src/pages/Calendar.jsx"],"sourcesContent":["// src/pages/Calendar.jsx\r\n// - HOMEÏùò Ï∫òÎ¶∞ÎçîÏôÄ ÎèôÏùºÌïú Î∞©ÏãùÏúºÎ°ú ÏÑúÏö∏Ïãú APIÎ•º ÏÇ¨Ïö©\r\n//   ‚ë† ÌòÑÏû¨ Îã¨Î†•Ïóê Î≥¥Ïù¥Îäî ÎÇ†Ïßú(ÏµúÎåÄ 42Ïùº)Ïóê ÎåÄÌï¥ÏÑúÎßå, ÎÇ†ÏßúÎ≥ÑÎ°ú API Ìò∏Ï∂ú(fetchSeoulDailyEvents)\r\n//      Í∞Å ÎÇ†ÏßúÎäî START_INDEX=0, END_INDEX=4 Î°ú ÏùºÎ∂ÄÎßå Í∞ÄÏ†∏Ïò§Í≥† list_total_count Î°ú Ï†ÑÏ≤¥ Í∞úÏàò ÌôïÏù∏\r\n//   ‚ë° ÏÉÅÏÑ∏ ÌñâÏÇ¨ Î™©Î°ùÏùÄ ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏóê ÎåÄÌï¥ ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Ï†ÅÏö©\r\n//      Í∞Å ÌéòÏù¥ÏßÄÎßàÎã§ START_INDEX / END_INDEX Î•º Í≥ÑÏÇ∞Ìï¥ÏÑú Í∑∏ ÌéòÏù¥ÏßÄÎßå Ï°∞Ìöå\r\n\r\nimport React, {\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  useDeferredValue,\r\n} from \"react\";\r\nimport { fetchSeoulDailyEvents } from \"../lib/seoulApi.js\";\r\n\r\n/* === ÌôòÍ≤ΩÎ≥ÄÏàò === */\r\nconst SEOUL_KEY = (process.env.NEXT_PUBLIC_SEOUL_KEY || \"\").trim();\r\n\r\n/* === Ïπ¥ÌÖåÍ≥†Î¶¨(Î∏åÎùºÏö∞Ï¶àÏôÄ ÎèôÏùº ÎùºÎ≤®) === */\r\nconst CATEGORIES = [\"Ï†ÑÏ≤¥\", \"Í≥µÏó∞\", \"Ï†ÑÏãú\", \"ÍµêÏú°/Ï≤¥Ìóò\", \"Í∏∞ÌÉÄ\"];\r\n\r\n/* === Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉâ(Ï†ê ÌëúÏãúÏö©) === */\r\nconst CAT_COLOR = {\r\n  Í≥µÏó∞: \"bg-indigo-500\",\r\n  Ï†ÑÏãú: \"bg-emerald-500\",\r\n  \"ÍµêÏú°/Ï≤¥Ìóò\": \"bg-amber-500\",\r\n  Í∏∞ÌÉÄ: \"bg-rose-500\",\r\n};\r\n\r\n/* === Ï¶êÍ≤®Ï∞æÍ∏∞ Î°úÏª¨Ïä§ÌÜ†Î¶¨ÏßÄ (Browse/MyPageÏôÄ ÎèôÏùº ÌÇ§) === */\r\nconst LS_KEY_FAV = \"sn_favorites\";\r\nfunction loadFavs() {\r\n  try {\r\n    const raw = localStorage.getItem(LS_KEY_FAV);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\nfunction saveFavs(list) {\r\n  localStorage.setItem(LS_KEY_FAV, JSON.stringify(list));\r\n}\r\n\r\n/* === ÏÉÅÏúÑ Ïπ¥ÌÖåÍ≥†Î¶¨ Îß§Ìïë (App/Browse ÏôÄ ÎèôÏùº Í∑úÏπô) === */\r\nfunction toHighLevelCategory(codename = \"\", themecode = \"\") {\r\n  const c = String(codename || \"\");\r\n  const t = String(themecode || \"\");\r\n\r\n  if (\r\n    [\r\n      \"Í≥µÏó∞\",\r\n      \"ÏΩòÏÑúÌä∏\",\r\n      \"ÌÅ¥ÎûòÏãù\",\r\n      \"Íµ≠ÏïÖ\",\r\n      \"Î¨¥Ïö©\",\r\n      \"Ïó∞Í∑π\",\r\n      \"ÎÆ§ÏßÄÏª¨\",\r\n      \"Ïò§ÌéòÎùº\",\r\n      \"ÏùåÏïÖÌöå\",\r\n      \"ÌéòÏä§Ìã∞Î≤å\",\r\n      \"Ï∂ïÏ†ú\",\r\n    ].some((k) => c.includes(k))\r\n  ) {\r\n    return \"Í≥µÏó∞\";\r\n  }\r\n\r\n  if ([\"Ï†ÑÏãú\", \"ÎØ∏Ïà†\", \"Í∞§Îü¨Î¶¨\", \"ÏïÑÌä∏\", \"ÏÇ¨ÏßÑÏ†Ñ\"].some((k) => c.includes(k))) {\r\n    return \"Ï†ÑÏãú\";\r\n  }\r\n\r\n  if (\r\n    [\"ÍµêÏú°\", \"Ï≤¥Ìóò\", \"ÏõåÌÅ¨Ïàç\", \"ÏõåÌÅ¨ÏÉµ\", \"Í∞ïÏ¢å\", \"Í∞ïÏùò\", \"ÏÑ∏ÎØ∏ÎÇò\", \"Í∞ïÏó∞\"].some(\r\n      (k) => c.includes(k)\r\n    ) ||\r\n    t.includes(\"ÍµêÏú°\")\r\n  ) {\r\n    return \"ÍµêÏú°/Ï≤¥Ìóò\";\r\n  }\r\n\r\n  return \"Í∏∞ÌÉÄ\";\r\n}\r\n\r\n/* === ÎÇ†Ïßú Ïú†Ìã∏ === */\r\nfunction ymd(date) {\r\n  const y = date.getFullYear();\r\n  const m = String(date.getMonth() + 1).padStart(2, \"0\");\r\n  const d = String(date.getDate()).padStart(2, \"0\");\r\n  return `${y}-${m}-${d}`;\r\n}\r\nfunction normalizeRangeLabel(startStr = \"\", endStr = \"\") {\r\n  const s = (startStr || \"\").replaceAll(\".\", \"-\");\r\n  const e = (endStr || \"\").replaceAll(\".\", \"-\");\r\n  if (!s && !e) return \"ÏùºÏ†ï ÎØ∏Ï†ï\";\r\n  if (s && e) return `${s} ~ ${e}`;\r\n  return s || e;\r\n}\r\nfunction monthMatrix(year, monthIdx, weekStartsOn = 0) {\r\n  // weekStartsOn: 0=Sun, 1=Mon\r\n  const first = new Date(year, monthIdx, 1);\r\n  const last = new Date(year, monthIdx + 1, 0);\r\n  const days = last.getDate();\r\n  const firstDay = (first.getDay() - weekStartsOn + 7) % 7;\r\n  const total = Math.ceil((firstDay + days) / 7) * 7;\r\n\r\n  const cells = [];\r\n  for (let i = 0; i < total; i++) {\r\n    const dayOffset = i - firstDay + 1;\r\n    const d = new Date(year, monthIdx, dayOffset);\r\n    const inMonth = dayOffset >= 1 && dayOffset <= days;\r\n    cells.push({ date: d, inMonth });\r\n  }\r\n  return cells;\r\n}\r\n\r\n/* === API row -> Ï∫òÎ¶∞ÎçîÏö© Ïù¥Î≤§Ìä∏ Ï†ïÍ∑úÌôî === */\r\nfunction mapRowToEvent(r, idx = 0) {\r\n  const startStr = r.STRTDATE || r.DATE;\r\n  const endStr = r.END_DATE || r.ENDDATE || r.END;\r\n\r\n  const category = toHighLevelCategory(r.CODENAME, r.THEMECODE);\r\n\r\n  return {\r\n    id: r.SVCID || `evt_${idx}`,\r\n    title: r.TITLE || r.SVCNM || \"Î¨¥Ï†ú\",\r\n    category,\r\n    place: r.PLACE || r.GUNAME || \"Ïû•ÏÜå ÎØ∏Ï†ï\",\r\n    dateLabel: normalizeRangeLabel(startStr, endStr),\r\n    homepage: r.ORG_LINK || r.HMPG_ADDR,\r\n    fee: r.USE_FEE,\r\n    gu: r.GUNAME,\r\n    thumb: r.MAIN_IMG || \"/images/sample-event.jpg\",\r\n    lat: r.LAT || null,\r\n    lng: r.LNG || null,\r\n  };\r\n}\r\n\r\n/* === 1) Ïõî Ï†ÑÏ≤¥Ïóê ÎåÄÌïú \"ÏùºÎ≥Ñ ÏöîÏïΩ\" Ï°∞Ìöå (HOME Í≥º ÎèôÏùº Íµ¨Ï°∞) === */\r\n/**\r\n * dataByDay[dateKey] = {\r\n *   events: Event[],      // Í∑∏ ÎÇ†Ïßú ÏÉÅÏúÑ NÍ∞ú (N = perDayLimit)\r\n *   totalCount: number,   // list_total_count\r\n * }\r\n */\r\nfunction useCalendarMonthDots(year, month, weekStartsOn = 0, perDayLimit = 4) {\r\n  const [dataByDay, setDataByDay] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ctrl = new AbortController();\r\n    let cancelled = false;\r\n\r\n    (async () => {\r\n      try {\r\n        if (!SEOUL_KEY) {\r\n          throw new Error(\"REACT_APP_SEOUL_KEYÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§ (.env ÌôïÏù∏).\");\r\n        }\r\n        setLoading(true);\r\n        setErr(null);\r\n        setDataByDay({});\r\n\r\n        const matrix = monthMatrix(year, month, weekStartsOn);\r\n        const dates = matrix.map((cell) => ymd(cell.date)); // ÌòÑÏû¨ Îã¨Î†•Ïóê Î≥¥Ïù¥Îäî ÎÇ†ÏßúÎì§(ÏµúÎåÄ 42Ïùº)\r\n\r\n        const results = await Promise.all(\r\n          dates.map(async (dateKey) => {\r\n            try {\r\n              const json = await fetchSeoulDailyEvents({\r\n                seoulKey: SEOUL_KEY,\r\n                date: dateKey,\r\n                startIndex: 0,\r\n                endIndex: perDayLimit,\r\n                signal: ctrl.signal,\r\n              });\r\n              const info = json?.culturalEventInfo;\r\n              const rows = info?.row || [];\r\n              const totalCount = info?.list_total_count ?? rows.length;\r\n              const events = rows.map((r, idx) => mapRowToEvent(r, idx));\r\n              return { dateKey, events, totalCount };\r\n            } catch (e) {\r\n              console.error(\"Calendar month daily fetch error:\", dateKey, e);\r\n              return { dateKey, events: [], totalCount: 0 };\r\n            }\r\n          })\r\n        );\r\n\r\n        if (cancelled) return;\r\n\r\n        const map = {};\r\n        results.forEach(({ dateKey, events, totalCount }) => {\r\n          map[dateKey] = { events, totalCount };\r\n        });\r\n        setDataByDay(map);\r\n      } catch (e) {\r\n        if (!cancelled) setErr(e);\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      ctrl.abort();\r\n    };\r\n  }, [year, month, weekStartsOn, perDayLimit]);\r\n\r\n  return { dataByDay, loading, error: err };\r\n}\r\n\r\n/* === 2) ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏóê ÎåÄÌïú ÌéòÏù¥ÏßÄ Îã®ÏúÑ ÏÉÅÏÑ∏ Ï°∞Ìöå === */\r\n/**\r\n * - dateKey: 'YYYY-MM-DD'\r\n * - page: 1-based\r\n * - pageSize: ÏÉÅÏÑ∏ Î¶¨Ïä§Ìä∏ Ìïú ÌéòÏù¥ÏßÄÎãπ Í∞úÏàò\r\n * - Í∞Å page ÎßàÎã§ START_INDEX / END_INDEX Î•º Í≥ÑÏÇ∞Ìï¥ÏÑú Í∑∏ Î≤îÏúÑÎßå Ï°∞Ìöå\r\n */\r\nconst DETAIL_PAGE_SIZE = 20;\r\n\r\nfunction useDailyPagedEvents(dateKey, page, pageSize = DETAIL_PAGE_SIZE) {\r\n  const [events, setEvents] = useState([]);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ctrl = new AbortController();\r\n    let cancelled = false;\r\n\r\n    (async () => {\r\n      if (!dateKey) {\r\n        setEvents([]);\r\n        setTotalCount(0);\r\n        setErr(null);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        if (!SEOUL_KEY) {\r\n          throw new Error(\"REACT_APP_SEOUL_KEYÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§ (.env ÌôïÏù∏).\");\r\n        }\r\n        setLoading(true);\r\n        setErr(null);\r\n\r\n        // page 1 ‚Üí 1~20, page 2 ‚Üí 21~40 ... (Ïò§ÌîàAPIÎäî 1-based)\r\n        const start1 = (page - 1) * pageSize + 1;\r\n        const end1 = start1 + pageSize - 1;\r\n\r\n        const json = await fetchSeoulDailyEvents({\r\n          seoulKey: SEOUL_KEY,\r\n          date: dateKey,\r\n          startIndex: start1,\r\n          endIndex: end1,\r\n          signal: ctrl.signal,\r\n        });\r\n\r\n        if (cancelled) return;\r\n\r\n        const info = json?.culturalEventInfo;\r\n        const rows = info?.row || [];\r\n        const total = info?.list_total_count ?? rows.length;\r\n\r\n        const mapped = rows.map((r, idx) => mapRowToEvent(r, start1 - 1 + idx));\r\n\r\n        setEvents(mapped);\r\n        setTotalCount(total);\r\n      } catch (e) {\r\n        if (!cancelled) setErr(e);\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      ctrl.abort();\r\n    };\r\n  }, [dateKey, page, pageSize]);\r\n\r\n  const totalPages = Math.max(\r\n    1,\r\n    Math.ceil((totalCount || events.length || 1) / pageSize)\r\n  );\r\n\r\n  return { events, totalCount, totalPages, loading, error: err };\r\n}\r\n\r\n/* === ÌéòÏù¥ÏßÄ Ïª¥Ìè¨ÎÑåÌä∏ === */\r\nexport default function CalendarPage() {\r\n  const today = new Date();\r\n  const todayKey = ymd(today);\r\n\r\n  // ‚ë† Í∏∞Î≥∏ÏùÄ ÌòÑÏû¨ ÎÖÑ/Ïõî\r\n  const [cursor, setCursor] = useState(\r\n    new Date(today.getFullYear(), today.getMonth(), 1)\r\n  );\r\n  const [category, setCategory] = useState(\"Ï†ÑÏ≤¥\");\r\n  const [keywordInput, setKeywordInput] = useState(\"\");\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [activeDay, setActiveDay] = useState(null); // 'YYYY-MM-DD'\r\n  const [detailPage, setDetailPage] = useState(1);\r\n\r\n  const deferredKeyword = useDeferredValue(keyword);\r\n\r\n  // Ï∫òÎ¶∞Îçî Î∞ïÏä§ ÎÜíÏù¥Î•º ÏÉÅÏÑ∏ Ìå®ÎÑêÏóê Î≥µÏ†ú\r\n  const calBoxRef = useRef(null);\r\n  const [panelH, setPanelH] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!calBoxRef.current) return;\r\n    const ro = new ResizeObserver((entries) => {\r\n      const box = entries[0]?.contentRect;\r\n      if (box) setPanelH(Math.round(box.height));\r\n    });\r\n    ro.observe(calBoxRef.current);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  const y = cursor.getFullYear();\r\n  const m = cursor.getMonth();\r\n\r\n  // Ïõî Ï†ÑÏ≤¥ ÏùºÎ≥Ñ ÏöîÏïΩ Î°úÎî©\r\n  const {\r\n    dataByDay,\r\n    loading: loadingMonth,\r\n    error: errorMonth,\r\n  } = useCalendarMonthDots(y, m, 0, 4);\r\n\r\n  // Îã¨Î†• Îß§Ìä∏Î¶≠Ïä§\r\n  const matrix = useMemo(() => monthMatrix(y, m, 0), [y, m]);\r\n\r\n  // ÎÇ†Ïßú/ÌïÑÌÑ∞ Î≥ÄÍ≤Ω Ïãú ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî\r\n  useEffect(() => {\r\n    setDetailPage(1);\r\n  }, [activeDay, category, keyword]);\r\n\r\n  // ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏùò ÏÉÅÏÑ∏\r\n  const {\r\n    events: dailyEventsRaw,\r\n    totalCount: dailyTotalCount,\r\n    totalPages: dailyTotalPages,\r\n    loading: loadingDaily,\r\n    error: errorDaily,\r\n  } = useDailyPagedEvents(activeDay, detailPage, DETAIL_PAGE_SIZE);\r\n\r\n  // Ïπ¥ÌÖåÍ≥†Î¶¨/Í≤ÄÏÉâ ÌïÑÌÑ∞ ÏÉÅÏÑ∏ Ï†ÅÏö©\r\n  const filteredDailyEvents = useMemo(() => {\r\n    let arr = dailyEventsRaw;\r\n    if (category !== \"Ï†ÑÏ≤¥\") {\r\n      arr = arr.filter((e) => e.category === category);\r\n    }\r\n    const q = (deferredKeyword || \"\").trim().toLowerCase();\r\n    if (!q) return arr;\r\n    return arr.filter(\r\n      (e) =>\r\n        e.title.toLowerCase().includes(q) ||\r\n        (e.place || \"\").toLowerCase().includes(q)\r\n    );\r\n  }, [dailyEventsRaw, category, deferredKeyword]);\r\n\r\n  const ymLabel = `${y}.${String(m + 1).padStart(2, \"0\")}`;\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n    setKeyword(keywordInput);\r\n  };\r\n\r\n  // Ï¶êÍ≤®Ï∞æÍ∏∞ (Calendar Î©îÎâ¥ÏóêÏÑúÎèÑ Ï∂îÍ∞Ä Í∞ÄÎä•)\r\n  const [favSet, setFavSet] = useState(\r\n    () => new Set(loadFavs().map((x) => x.id))\r\n  );\r\n\r\n  const handleToggleFavorite = (ev) => {\r\n    const list = loadFavs();\r\n    const exists = list.some((x) => x.id === ev.id);\r\n    let next;\r\n    if (exists) {\r\n      next = list.filter((x) => x.id !== ev.id);\r\n    } else {\r\n      next = [\r\n        ...list,\r\n        {\r\n          id: ev.id,\r\n          title: ev.title,\r\n          category: ev.category,\r\n          date: ev.dateLabel,\r\n          place: ev.place,\r\n          thumb: ev.thumb || \"/images/sample-event.jpg\",\r\n          homepage: ev.homepage,\r\n          gu: ev.gu,\r\n          lat: ev.lat ?? null,\r\n          lng: ev.lng ?? null,\r\n        },\r\n      ];\r\n    }\r\n    saveFavs(next);\r\n    setFavSet(new Set(next.map((x) => x.id)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white px-6 py-8 max-w-6xl mx-auto\">\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Ï∫òÎ¶∞Îçî</h2>\r\n\r\n      {/* Ïª®Ìä∏Î°§: ÎÖÑÏõî/Ïπ¥ÌÖåÍ≥†Î¶¨/Í≤ÄÏÉâ */}\r\n      <div className=\"flex flex-col sm:flex-row gap-3 sm:items-center mb-4\">\r\n        {/* ÎÖÑÏõî ÏÑ†ÌÉù */}\r\n        <div className=\"flex items-stretch\">\r\n          <div className=\"border rounded-l px-3 py-2 min-w-[110px] grid place-items-center\">\r\n            {ymLabel}\r\n          </div>\r\n          <button\r\n            className=\"border-y border-r px-3 py-2\"\r\n            onClick={() => {\r\n              const d = new Date(y, m - 1, 1);\r\n              setCursor(d);\r\n              setActiveDay(null);\r\n            }}\r\n            aria-label=\"Ïù¥Ï†Ñ Îã¨\"\r\n            title=\"Ïù¥Ï†Ñ Îã¨\"\r\n          >\r\n            ‚óÄ\r\n          </button>\r\n          <button\r\n            className=\"border rounded-r border-l-0 px-3 py-2\"\r\n            onClick={() => {\r\n              const d = new Date(y, m + 1, 1);\r\n              setCursor(d);\r\n              setActiveDay(null);\r\n            }}\r\n            aria-label=\"Îã§Ïùå Îã¨\"\r\n            title=\"Îã§Ïùå Îã¨\"\r\n          >\r\n            ‚ñ∂\r\n          </button>\r\n        </div>\r\n\r\n        {/* Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†ÌÉù */}\r\n        <select\r\n          value={category}\r\n          onChange={(e) => {\r\n            setCategory(e.target.value);\r\n            // activeDayÎäî Ïú†ÏßÄ (ÏÑ†ÌÉùÌïú ÎÇ†Ïßú ÎÇ¥ÏóêÏÑúÎßå Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞)\r\n          }}\r\n          className=\"border rounded px-3 py-2 w-40\"\r\n        >\r\n          {CATEGORIES.map((c) => (\r\n            <option key={c} value={c}>\r\n              {c}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* Í≤ÄÏÉâ(ÏÉÅÏÑ∏ Î™©Î°ùÏö©) */}\r\n        <form onSubmit={handleSearchSubmit} className=\"flex-1\">\r\n          <div className=\"relative\">\r\n            <input\r\n              value={keywordInput}\r\n              onChange={(e) => setKeywordInput(e.target.value)}\r\n              placeholder=\"ÌñâÏÇ¨Î™Ö, Ïû•ÏÜåÎ°ú Í≤ÄÏÉâ (ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏùò Î™©Î°ù ÎÇ¥ÏóêÏÑú)\"\r\n              className=\"w-full border rounded-md pl-3 pr-10 py-2\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              aria-label=\"Í≤ÄÏÉâ\"\r\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-gray-50\"\r\n            >\r\n              <img src=\"/images/search.png\" alt=\"\" className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Î°úÎî©/ÏóêÎü¨ (Ïõî Îã®ÏúÑ) */}\r\n      {loadingMonth && (\r\n        <div className=\"mb-4 text-sm text-gray-500\">\r\n          Îã¨Î†• Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë‚Ä¶\r\n        </div>\r\n      )}\r\n      {errorMonth && (\r\n        <div className=\"mb-4 text-sm text-red-600\">\r\n          Îã¨Î†• Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÏßÄ Î™ªÌñàÏñ¥Ïöî.{\" \"}\r\n          {String(errorMonth?.message || errorMonth)}\r\n        </div>\r\n      )}\r\n\r\n      {/* Î≥∏Î¨∏: Îã¨Î†• / ÏÉÅÏÑ∏ */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\r\n        {/* Ï∫òÎ¶∞Îçî */}\r\n        <div className=\"lg:col-span-6\">\r\n          <div ref={calBoxRef} className=\"border rounded-lg p-4\">\r\n            {/* ÏöîÏùº Ìó§Îçî */}\r\n            <div className=\"text-sm text-gray-600 mb-2\">\r\n              {new Date(y, m, 1).toLocaleString(\"ko-KR\", {\r\n                month: \"long\",\r\n                year: \"numeric\",\r\n              })}\r\n            </div>\r\n            <div className=\"grid grid-cols-7 text-center text-xs text-gray-600 mb-1\">\r\n              {[\"Ïùº\", \"Ïõî\", \"Ìôî\", \"Ïàò\", \"Î™©\", \"Í∏à\", \"ÌÜ†\"].map((w) => (\r\n                <div key={w} className=\"py-1\">\r\n                  {w}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-7 gap-1\">\r\n              {matrix.map(({ date, inMonth }, idx) => {\r\n                const key = ymd(date);\r\n                const day = date.getDate();\r\n                const dayData = dataByDay[key] || { events: [], totalCount: 0 };\r\n                const allDayEvents = dayData.events || [];\r\n\r\n                const dayEvents =\r\n                  category === \"Ï†ÑÏ≤¥\"\r\n                    ? allDayEvents\r\n                    : allDayEvents.filter((e) => e.category === category);\r\n\r\n                const isToday = key === todayKey;\r\n                const isOtherMonth = !inMonth; // ‚òÖ Ï†ÑÎã¨/Îã§Ïùå Îã¨Îßå ÏùåÏòÅ Ï≤òÎ¶¨\r\n\r\n                return (\r\n                  <button\r\n                    key={idx}\r\n                    onClick={() => setActiveDay(key)}\r\n                    className={[\r\n                      \"aspect-square rounded-md border p-1 text-left cursor-pointer\",\r\n                      isOtherMonth\r\n                        ? \"bg-gray-50 text-gray-300\"\r\n                        : \"bg-white hover:bg-gray-50\",\r\n                      activeDay === key ? \"ring-2 ring-black\" : \"\",\r\n                    ].join(\" \")}\r\n                    title={\r\n                      dayData.totalCount\r\n                        ? `${dayData.totalCount}Í∞ú ÌñâÏÇ¨`\r\n                        : undefined\r\n                    }\r\n                  >\r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <span className={isToday ? \"font-bold underline\" : \"\"}>\r\n                        {day}\r\n                      </span>\r\n                      <span className=\"flex gap-0.5\">\r\n                        {dayEvents.slice(0, 3).map((e, i) => (\r\n                          <i\r\n                            key={i}\r\n                            className={[\r\n                              \"inline-block w-1.5 h-1.5 rounded-full\",\r\n                              CAT_COLOR[e.category] || \"bg-gray-400\",\r\n                              isOtherMonth ? \"opacity-50\" : \"\",\r\n                            ].join(\" \")}\r\n                          />\r\n                        ))}\r\n                        {dayData.totalCount > dayEvents.length &&\r\n                          dayEvents.length > 0 && (\r\n                            <span className=\"text-[9px] text-gray-400 ml-0.5\">\r\n                              +{dayData.totalCount - dayEvents.length}\r\n                            </span>\r\n                          )}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"mt-3\" />\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Î≤îÎ°Ä */}\r\n            <div className=\"mt-3 flex flex-wrap gap-3 text-xs\">\r\n              {Object.entries(CAT_COLOR).map(([k, v]) => (\r\n                <span key={k} className=\"inline-flex items-center gap-1\">\r\n                  <i className={`inline-block w-2 h-2 rounded-full ${v}`} />\r\n                  {k}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ÏÉÅÏÑ∏: Ï∫òÎ¶∞ÎçîÏôÄ Í∞ôÏùÄ ÎÜíÏù¥ + Ïä§ÌÅ¨Î°§ + ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò + Ï¶êÍ≤®Ï∞æÍ∏∞ */}\r\n        <div className=\"lg:col-span-6\">\r\n          <div\r\n            className=\"border rounded-lg bg-gray-50 overflow-auto\"\r\n            style={{\r\n              height: panelH ? `${panelH}px` : undefined,\r\n              minHeight: panelH ? undefined : \"280px\",\r\n            }}\r\n          >\r\n            <div className=\"p-4 flex flex-col h-full\">\r\n              {!activeDay ? (\r\n                <div className=\"text-sm text-gray-500 flex-1 grid place-items-center\">\r\n                  ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌïòÎ©¥ Ìï¥Îãπ ÎÇ†ÏßúÏùò ÌñâÏÇ¨Í∞Ä ÌëúÏãúÎê©ÎãàÎã§.\r\n                </div>\r\n              ) : loadingDaily ? (\r\n                <div className=\"text-sm text-gray-500 flex-1 grid place-items-center\">\r\n                  {activeDay}Ïùò ÌñâÏÇ¨Î•º Î∂àÎü¨Ïò§Îäî Ï§ë‚Ä¶\r\n                </div>\r\n              ) : errorDaily ? (\r\n                <div className=\"text-sm text-red-600 flex-1 grid place-items-center\">\r\n                  Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÏßÄ Î™ªÌñàÏñ¥Ïöî.{\" \"}\r\n                  {String(errorDaily?.message || errorDaily)}\r\n                </div>\r\n              ) : filteredDailyEvents.length === 0 ? (\r\n                <div className=\"text-sm text-gray-500 flex-1 grid place-items-center\">\r\n                  {activeDay}Ïóê Ï°∞Í±¥Ïóê ÎßûÎäî ÌñâÏÇ¨Í∞Ä ÏóÜÏäµÎãàÎã§.\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"mb-3 text-sm text-gray-700\">\r\n                    <span className=\"font-semibold\">{activeDay}</span>{\" \"}\r\n                    Í∏∞Ï§Ä ÌñâÏÇ¨ Î™©Î°ù\r\n                  </div>\r\n                  <ul className=\"space-y-3 flex-1 overflow-auto pr-1\">\r\n                    {filteredDailyEvents.map((e) => {\r\n                      const isFav = favSet.has(e.id);\r\n                      return (\r\n                        <li\r\n                          key={e.id}\r\n                          className=\"bg-white border rounded p-3 relative\"\r\n                        >\r\n                          <div className=\"flex items-start justify-between gap-2\">\r\n                            <div className=\"flex-1 pr-2\">\r\n                              <h4 className=\"font-semibold\">{e.title}</h4>\r\n                              <p className=\"text-sm text-gray-600 mt-1\">\r\n                                üìÖ {e.dateLabel}\r\n                              </p>\r\n                              <p className=\"text-sm text-gray-600\">\r\n                                üìç {e.place}\r\n                              </p>\r\n                              {e.fee && (\r\n                                <p className=\"text-xs text-gray-500 mt-1\">\r\n                                  ÏöîÍ∏à: {e.fee}\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"flex flex-col items-end gap-1\">\r\n                              <span className=\"text-xs px-2 py-0.5 rounded-full bg-gray-100 whitespace-nowrap\">\r\n                                {e.category}\r\n                              </span>\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => handleToggleFavorite(e)}\r\n                                className=\"text-xl leading-none select-none\"\r\n                                title={\r\n                                  isFav ? \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú\" : \"Ï¶êÍ≤®Ï∞æÍ∏∞Ïóê Ï∂îÍ∞Ä\"\r\n                                }\r\n                                aria-label={\r\n                                  isFav ? \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú\" : \"Ï¶êÍ≤®Ï∞æÍ∏∞Ïóê Ï∂îÍ∞Ä\"\r\n                                }\r\n                              >\r\n                                {isFav ? \"‚ù§Ô∏è\" : \"ü§ç\"}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                          {e.homepage && (\r\n                            <div className=\"mt-2 text-right\">\r\n                              <a\r\n                                className=\"text-xs underline underline-offset-4\"\r\n                                href={e.homepage}\r\n                                target=\"_blank\"\r\n                                rel=\"noreferrer\"\r\n                              >\r\n                                ÏÉÅÏÑ∏Î≥¥Í∏∞\r\n                              </a>\r\n                            </div>\r\n                          )}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n\r\n                  {/* ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò */}\r\n                  <div className=\"mt-3 flex items-center justify-between text-xs text-gray-600\">\r\n                    <div>\r\n                      Ï¥ù {dailyTotalCount}Í±¥ ¬∑ {detailPage}/{dailyTotalPages}\r\n                      ÌéòÏù¥ÏßÄ\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() =>\r\n                          setDetailPage((p) => Math.max(1, p - 1))\r\n                        }\r\n                        disabled={detailPage === 1}\r\n                        className=\"px-3 py-1.5 rounded border bg-white disabled:opacity-40\"\r\n                      >\r\n                        Ïù¥Ï†Ñ\r\n                      </button>\r\n                      <button\r\n                        onClick={() =>\r\n                          setDetailPage((p) =>\r\n                            Math.min(dailyTotalPages, p + 1)\r\n                          )\r\n                        }\r\n                        disabled={detailPage === dailyTotalPages}\r\n                        className=\"px-3 py-1.5 rounded border bg-white disabled:opacity-40\"\r\n                      >\r\n                        Îã§Ïùå\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}